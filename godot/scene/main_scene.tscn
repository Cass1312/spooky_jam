[gd_scene load_steps=15 format=3 uid="uid://cu7holnwdmsyi"]

[ext_resource type="Script" uid="uid://dqduv0jr5kj28" path="res://scripts/dungeon_generator.gd" id="1_4wnd8"]
[ext_resource type="Script" uid="uid://0al2hkou1yj8" path="res://scripts/player.gd" id="1_wgwml"]
[ext_resource type="Texture2D" uid="uid://cr8f5glkahr4w" path="res://sprites/player.png" id="3_qvu5t"]
[ext_resource type="PackedScene" uid="uid://ci0m183wmpftp" path="res://prefabs/room.tscn" id="4_4wnd8"]
[ext_resource type="PackedScene" uid="uid://dk1n82ktmgefj" path="res://prefabs/enemies/bazooka_enemy.tscn" id="4_x5n27"]
[ext_resource type="PackedScene" uid="uid://cj6f6k2kmo8d0" path="res://prefabs/enemies/machine_gun_enemy.tscn" id="5_jsie2"]
[ext_resource type="PackedScene" uid="uid://d1g4f4f2casta" path="res://prefabs/enemies/circle_enemy.tscn" id="6_jsie2"]
[ext_resource type="AudioStream" uid="uid://i1anqbuqxhur" path="res://Lunar Dungeon.wav" id="8_pi0uh"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_jsie2"]
vertices = PackedVector2Array(478, 294, -478, 294, -478, -294, 478, -294)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-488, -304, -488, 304, 488, 304, 488, -304)])

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_ry1uq"]
distance = -300.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_fb1ex"]
normal = Vector2(0, 1)
distance = -300.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_4wnd8"]
normal = Vector2(1, 0)
distance = -480.0

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_x5n27"]
normal = Vector2(-1, 0)
distance = -480.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_wgwml"]
radius = 16.0
height = 64.0

[node name="Scene" type="Node2D"]

[node name="Level" type="Node2D" parent="."]
script = ExtResource("1_4wnd8")
room_prefab = ExtResource("4_4wnd8")
enemy_prefab_1 = ExtResource("4_x5n27")
enemy_prefab_2 = ExtResource("6_jsie2")
enemy_prefab_3 = ExtResource("5_jsie2")

[node name="Nav Region" type="NavigationRegion2D" parent="Level"]
navigation_polygon = SubResource("NavigationPolygon_jsie2")

[node name="Wall Bottom" type="StaticBody2D" parent="Level"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Wall Bottom"]
shape = SubResource("WorldBoundaryShape2D_ry1uq")

[node name="Wall Top" type="StaticBody2D" parent="Level"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Wall Top"]
shape = SubResource("WorldBoundaryShape2D_fb1ex")

[node name="Wall Left" type="StaticBody2D" parent="Level"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Wall Left"]
shape = SubResource("WorldBoundaryShape2D_4wnd8")

[node name="Wall Right" type="StaticBody2D" parent="Level"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Level/Wall Right"]
shape = SubResource("WorldBoundaryShape2D_x5n27")

[node name="Player" type="CharacterBody2D" parent="."]
z_index = 1
y_sort_enabled = true
collision_layer = 6
script = ExtResource("1_wgwml")
MOVE_SPEED = 48.0

[node name="Collider" type="CollisionShape2D" parent="Player"]
shape = SubResource("CapsuleShape2D_wgwml")

[node name="Sprite" type="Sprite2D" parent="Player"]
texture = ExtResource("3_qvu5t")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="Player"]
stream = ExtResource("8_pi0uh")
autoplay = true

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(4, 4)
